%h3 Mailchimp Post
.jumbotron
  %h2 A simple way to add emails to your Mailchimp list with GET and POST
  %p 
    = image_tag "mailchimp-post.png", :align => "left", :style => "width:250px;padding:10px 20px 10px 10px"
    Mailchimp Post is a simple free service to add people to your Mailchimp list through a very simple HTTP POST or GET.  The Mailchimp API isn't that complicated but you have to submit the data in a very specific format.  This system was built because there are 3rd party systems that don't integrate with Mailchimp but that do have the ability to do simple HTTP silent posts to send information to another server.  The idea is that with this simple way to integrate with Mailchimp you can have a system you use post to this system and then this system formats your data and submits it to mailchimp.

%h4 Finding your Mailchimp API Key
= link_to "http://kb.mailchimp.com/article/where-can-i-find-my-api-key"

%h3 POST URL
%p http://mailchimp-post.herokuapp.com/data/API_KEY

%h3 Example GET parameters
%p http://mailchimp-post.herokuapp.com/data/18he83huhu7339huuh29uhu9ude92d-us?list_id=e24fgz493&email=hello@world.com&FNAME=buster&lname=bluth&MERGE1=merge 1 data&MERGE2=merge 2 data

%h3 Using curl / POST
%p curl --data "?list_id=e24fgz493&email=hello@world.com&FNAME=the dude&MERGE1=misc1 here&MERGE2=misc 2 here" http://mailchimp-post.herokuapp.com/data/18he83huhu7339huuh29uhu9ude92d-us    

%h3 Parameters
%h5 Required Parameters
%p  
  data/YOUR_API_KEY/
  %br
  list_id 
  %br
  email

%h5 Optional Parameters
%p    
  MERGE1
  %br
  FNAME
  %br
  LNAME
  %br
  double_optin - pass in true or false, if you don't pass this parameter the default is false
  %br
  Pass in any other variables you want to pass to mailchimp and it will pass them in to the merge_vars hash

%h3 For use with DNN Form Master
%p 
  Settings -> Other Settings set the URL:
  http://mailchimp-post.herokuapp.com/data/YOUR_API_KEY
%p
  On the name field set Send Value by Options - Silent Post & Session
  %br
  value name will just be fname
  %br if you have a first name and last name you will use fname and lname
%p
  On the email field Send Value by Options - Silent Post & Session
  %br
  set value name to email
%p
  Add a new hidden field called list_id, make sure to hide label and ensury the type is hidden.
  %br
  In the Auto fill set the default text to be the list id from mailchimp
  %br
  Send Value by Options - Silent Post & Session and set the value name to list_id
%p
  Add any other mailchimp variables as hidden fields and set default text and the value name as well as the silent post & session value

%p 
  You may need to go back and check on these fields, seems it doesn't save each time

.panel.panel-default
  .panel-body
    This service was created by 
    =link_to "Web Ascender", "http://www.webascender.com"
    |
    = link_to "Fork this on github", "https://github.com/ryandoom/mailchimp-post"
